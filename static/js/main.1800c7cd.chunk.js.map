{"version":3,"sources":["components/RenderToBody.js","components/TabMenu.js","routes/home/components/TopBar.js","routes/home/components/Slide.js","routes/home/components/MovieItem.js","helpers/request.js","routes/home/components/CityLayer.js","routes/home/Index.js","components/LineLink.js","routes/user/Index.js","routes/detail/components/BaseInfo.js","components/Star.js","routes/detail/components/ScoreSummary.js","components/CollapsibleText.js","routes/detail/components/Artist.js","routes/detail/components/ScoreDistribute.js","routes/detail/components/TagList.js","routes/detail/components/CommentList.js","routes/detail/container/Comment.js","routes/detail/container/ImageSlider.js","routes/detail/Index.js","routes/seat/reducers/index.js","routes/seat/components/MovieInfo.js","routes/seat/actions/index.js","routes/seat/components/SeatSelected.js","routes/seat/container/SeatSelector.js","routes/seat/Index.js","App.js","serviceWorker.js","index.js"],"names":["RenderToBody","renderToLayer","ReactDOM","render","_this","props","children","popup","unrenderToLayer","unmountComponentAtNode","document","body","removeChild","this","createElement","appendChild","_react_16_8_6_react_default","a","Component","TabMenu","_ref","current","className","react_router_dom","to","concat","TopBar","city","showCityLayer","onClick","PosterSlide","data","lib_default","dots","autoplay","dotsClass","map","item","key","image","src","alt","MovieItem","poster","name","score","director","actor","tags","tag","i","request","_x","_x2","request_ref","apply","arguments","_callee","path","opt","url","options","response","_ref2","regenerator_default","wrap","_context","prev","next","Object","assign","method","fetch","sent","json","status","abrupt","t0","stop","CityLayer","state","hot","all","getData","setState","_this$props","onClose","onSelect","_this$state","alphabetKeys","keys","id","cityCode","regionName","alphabet","citys","href","Home","movie","cityLayerVisible","hideCityLayer","onChangeCity","console","log","getCity","_callee2","_context2","home_components_TopBar","components_Slide","home_components_MovieItem","src_components_TabMenu","components_RenderToBody","home_components_CityLayer","LineLink","title","extra","User","style","backgroundImage","components_LineLink","BaseInfo","onShowImage","Star","value","_ref$size","size","bgSize","height","width","backgroundSize","ScoreSummary","src_components_Star","CollapsibleText","isCollapse","isNeedCollapse","toggleStatus","prevState","dom","findDOMNode","clientHeight","cls","maxHeight","defaultProps","Artist","job","ScoreDistribute","TagList","onClickTag","text","count","CommentList","onClickZan","comment","src_components_CollapsibleText","content","time","isZan","zan","Comment","comments","list","changeTag","toggleZan","objectSpread","filterComments","filter","detail_components_ScoreDistribute","marginTop","detail_components_TagList","detail_components_CommentList","ImageSlider","index","changeIndex","setting","afterChange","Detail","artist","showImage","getArtist","length","toggleImage","window","history","back","detail_components_BaseInfo","detail_components_ScoreSummary","detail_components_Artist","container_Comment","detail_container_ImageSlider","seats","undefined","action","type","toConsumableArray","seat","MovieInfo","removeSeat","connect","dispatch","onRemove","rowIndex","colIndex","SEAT_WIDTH","SEAT_HEIGHT","ratio","devicePixelRatio","DRAW_SEAT_WIDTH","DRAW_SEAT_HEIGHT","lastSeat","CANVAS_WIDTH","CANVAS_HEIGHT","DRAW_CANVAS_WIDTH","DRAW_CANVAS_HEIGHT","SeatSelector","drawAllSeat","seatData","_seatData$i","isSold","xPos","yPos","offsetLeft","offsetTop","ctx","drawImage","soldImage","emptyImage","drawSelectSeat","selectSeat","_selectSeat$i","selectImage","fillText","clickSeat","e","offset","refs","canvas","getBoundingClientRect","clickX","pageX","left","clickY","pageY","top","xPox","Math","ceil","yPox","find","findIndex","alert","onAdd","_this2","getContext","font","fillStyle","textAlign","Image","loadCallback","onload","clearRect","ref","addSeat","store","createStore","seatSelect","Seat","es","seat_components_MovieInfo","container_SeatSelector","seat_components_SeatSelected","App","react_router","exact","component","Boolean","location","hostname","match","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1800c7cd.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nclass RenderToBody extends Component {\n  componentDidMount() {\n    this.popup = document.createElement('div');\n    document.body.appendChild(this.popup);\n    this.renderToLayer();\n  }\n\n  componentDidUpdate() {\n    this.renderToLayer();\n  }\n\n  componentWillUnmount() {\n    this.unrenderToLayer();\n  }\n\n  renderToLayer = () => {\n    ReactDOM.render(\n      this.props.children,\n      this.popup\n    );\n  }\n\n  unrenderToLayer = () => {\n    if (!this.popup) {\n      return;\n    }\n\n    ReactDOM.unmountComponentAtNode(this.popup);\n    document.body.removeChild(this.popup);\n    this.popup = null;\n  }\n\n  render() {\n    return <div />;\n  }\n}\n\nRenderToBody.propTypes = {\n  children: PropTypes.any\n};\n\nexport default RenderToBody;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport './TabMenu.scss';\n\nconst TabMenu = ({ current }) => {\n  return (\n    <div className=\"tabMenu\">\n      <Link to=\"/\" className={`tabMenu__btn ${current === 'movie' && 'tabMenu__btn--active'}`}>\n        <i className=\"tabMenu__icon tabMenu__icon--movie\" />\n        <span className=\"tabMenu__text\">电影</span>\n      </Link>\n      <Link to=\"/user\" className={`tabMenu__btn ${current === 'user' && 'tabMenu__btn--active'}`}>\n        <i className=\"tabMenu__icon tabMenu__icon--user\" />\n        <span className=\"tabMenu__text\">我的</span>\n      </Link>\n    </div>\n  );\n};\n\nTabMenu.propTypes = {\n  current: PropTypes.string.isRequired\n};\n\nexport default TabMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './TopBar.scss';\n\n/**\n * BEM\n * Block\n * Element\n * Modifier\n * **/\nconst TopBar = ({ city, showCityLayer }) => {\n  return (\n    <div className=\"topBar\">\n      <div className=\"topBar__city\" onClick={showCityLayer}>{city}</div>\n      <div className=\"topBar__search\" />\n      <div className=\"topBar__scan\" />\n    </div>\n  );\n};\n\nTopBar.propTypes = {\n  city: PropTypes.string.isRequired,\n  showCityLayer: PropTypes.func.isRequired\n}\n\nexport default TopBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from 'react-slick';\nimport './Slide.scss';\n\nconst PosterSlide = ({ data }) => {\n  const settings = {\n    dots: true,\n    autoplay: true,\n    className: 'posterSlide',\n    dotsClass: 'posterSlide__dots'\n  };\n\n  return (\n    <Slider {...settings} >\n      {\n        data.map(item => (\n          <div key={item.image}>\n            <img className=\"posterSlide__image\" src={item.image} alt=\"\"/>\n          </div>\n        ))\n      }\n    </Slider>\n  );\n};\n\nPosterSlide.propTypes = {\n  data: PropTypes.array.isRequired,\n}\n\nexport default PosterSlide;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './MovieItem.scss';\n\nconst MovieItem = ({ data }) => {\n  return (\n    <div className=\"movieItem\">\n      <div className=\"movieItem__poster\">\n        <img src={data.poster} alt=\"\"/>\n      </div>\n      <div className=\"movieItem__detail\">\n        <div className=\"movieItem__name\">{data.name}</div>\n        <div className=\"movieItem__score\">观众评分 <span>{data.score}</span></div>\n        <div className=\"movieItem__director\">导演：{data.director}</div>\n        { data.actor && <div className=\"movieItem__actor\">主演：{data.actor}</div> }\n        <div className=\"movieItem__tag\">\n          {\n            data.tags.map((tag, i) => {\n              if (i%2) {\n                return <span key={tag} className=\"tTag tTag--blue\">{tag}</span>;\n              }\n              return  <span key={tag} className=\"tTag tTag--red\">{tag}</span>;\n            })\n          }\n        </div>\n      </div>\n      <div className=\"movieItem__btn\">\n        <button className=\"tBtn\">购票</button>\n        <span className=\"movieItem__price\">9.9</span>\n      </div>\n    </div>\n  );\n};\n\nMovieItem.propTypes = {\n  data: PropTypes.object.isRequired\n};\n\nexport default MovieItem;\n","export default async function (path, opt) {\n  const url = 'https://www.easy-mock.com/mock/5a964cffdd997801d1e291fe/movie' + path;\n  const options = Object.assign({\n    method: 'GET',\n  }, opt);\n\n  try {\n    const response = await fetch(url, options);\n    const { data, status } = await response.json();\n\n    if (status === 0) {\n      return data;\n    } else {\n      // 错误处理\n    }\n  } catch (e) {\n    // 错误处理\n    // 提示/弹窗\n  }\n\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport request from '../../../helpers/request';\nimport './CityLayer.scss';\n\nclass CityLayer extends Component {\n  state = {\n    hot: [], // 热门城市\n    all: {} // 全部城市\n  }\n\n  componentWillMount() {\n    this.getData();\n  }\n\n\n  getData = async () => {\n    const data = await request('/city');\n    const { hot, all } = data;\n\n    this.setState({\n      hot,\n      all\n    });\n\n  }\n\n  render() {\n    const { onClose, onSelect } = this.props;\n    const { hot, all } = this.state;\n    const alphabetKeys = Object.keys(all);\n\n    return (\n      <div className=\"cityLayer\">\n        <div className=\"cityLayer__title\">\n          <div className=\"cityLayer__close\" onClick={onClose}>关闭</div>\n          选择城市\n        </div>\n        <div className=\"cityLayer__content\">\n          <div className=\"cityBlock\" id=\"定位\">\n            <div className=\"cityBlock__label\">定位城市</div>\n            <div className=\"cityBlock__wrap\">\n              <div className=\"cityBlock__item\" onClick={() => onSelect('杭州')}>杭州</div>\n            </div>\n          </div>\n          <div className=\"cityBlock\" id=\"热门\">\n            <div className=\"cityBlock__label\">热门城市</div>\n            <div className=\"cityBlock__wrap\">\n              { hot.map(city => <div key={city.cityCode} className=\"cityBlock__item\" onClick={() => onSelect(city.regionName)}>{city.regionName}</div>) }\n            </div>\n          </div>\n          { alphabetKeys.map(alphabet => {\n            const citys = all[alphabet];\n\n            return (\n              <div className=\"cityList\" id={alphabet} key={alphabet}>\n                <div className=\"cityList__label\">{alphabet}</div>\n                <ul className=\"cityList__wrap\">\n                  { citys.map(city => <li key={city.cityCode} className=\"cityList__item\" onClick={() => onSelect(city.regionName)}>{city.regionName}</li>) }\n                </ul>\n              </div>\n            );\n          }) }\n        </div>\n        <div className=\"cityLayer__index cityIndex\">\n          <ul className=\"cityIndex__list\">\n            <li className=\"cityIndex__item\"><a href=\"#定位\">定位</a></li>\n            <li className=\"cityIndex__item\"><a href=\"#热门\">热门</a></li>\n            { alphabetKeys.map(alphabet => <li key={alphabet} className=\"cityIndex__item\"><a href={`#${alphabet}`}>{alphabet}</a></li>) }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nCityLayer.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired\n};\n\nexport default CityLayer;\n","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom';\nimport RenderToBody from '../../components/RenderToBody';\nimport TabMenu from '../../components/TabMenu';\nimport TopBar from './components/TopBar';\nimport Slide from './components/Slide';\nimport MovieItem from './components/MovieItem';\nimport CityLayer from './components/CityLayer';\nimport request from '../../helpers/request';\nimport './Index.scss';\n\nclass Home extends Component {\n  state = {\n    city: '', // 当前城市\n    poster: [], // slide 海报\n    movie: [], // 当前热映电影\n    cityLayerVisible: false // 城市浮层是否展现\n  };\n\n  showCityLayer = () => {\n    this.setState({\n      cityLayerVisible: true\n    });\n  };\n\n  hideCityLayer = () => {\n    this.setState({\n      cityLayerVisible: false\n    });\n  };\n\n  onChangeCity = (city) => {\n    this.setState({\n      city,\n    });\n    this.hideCityLayer();\n  };\n\n  componentWillMount() {\n    this.getData();\n    // this.getCity();\n  }\n\n  getData = async () => {\n    const data = await request('/index');\n    const { city, poster, movie } = data;\n    console.log(poster)\n\n    this.setState({\n      city,\n      poster,\n      movie\n    });\n  };\n\n  getCity = async () => {\n    const data = await request('/city');\n\n    console.log(data);\n  };\n\n  render() {\n    const { city, poster, movie, cityLayerVisible } = this.state;\n\n    return (\n      <div className=\"home\">\n        <TopBar city={city} showCityLayer={this.showCityLayer} />\n        <div className=\"home__slide\">\n          <div className=\"home__slideWrap\">\n            <Slide data={poster} />\n          </div>\n        </div>\n        <ul className=\"home__content\">\n          { movie.map(item => <li key={item.name}><Link to=\"/detail\"><MovieItem data={item} /></Link></li>) }\n        </ul>\n        <TabMenu current=\"movie\" />\n        { cityLayerVisible && <RenderToBody><CityLayer onClose={this.hideCityLayer} onSelect={this.onChangeCity} /></RenderToBody> }\n      </div>\n    );\n  }\n}\n\nHome.propTypes = {};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './LinkLink.scss';\n\nconst LineLink = ({ href, title, extra }) => {\n  return (\n    <a href=\"/\" className=\"lineLink\">\n      <div className=\"lineLink__title\">{title}</div>\n      <div className=\"lineLink__extra\">{extra}</div>\n      <i className=\"lineLink__arrow\" />\n    </a>\n  );\n};\n\nLineLink.propTypes = {\n  href: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  extra: PropTypes.string\n};\n\nexport default LineLink;\n","import React from 'react';\nimport LineLink from '../../components/LineLink';\nimport TabMenu from '../../components/TabMenu';\nimport './Index.scss';\n\nconst User = () => {\n  return (\n    <div className=\"user\">\n      <div className=\"user__top\">\n        <div className=\"tOperator\">\n          <div className=\"tOperator__icon tOperator__icon--setting\" />\n          <div className=\"tOperator__icon tOperator__icon--message\" />\n        </div>\n        <div className=\"user__info\">\n          <div className=\"user__avatar\" style={{ backgroundImage: 'url(/source/avatar.jpeg)' }} />\n          <div className=\"user__detail\">\n            <div className=\"user__name\">周杰伦</div>\n            <div>\n              <span className=\"user__fellow\">关注 100</span>\n              <span className=\"user__fans\">被关注 10</span>\n            </div>\n            <div className=\"user__level\">黄金会员</div>\n          </div>\n        </div>\n      </div>\n      <div className=\"user__content\">\n        <LineLink title=\"收藏的电影\" extra=\"20\" href=\"#\" />\n        <LineLink title=\"看过的电影\" extra=\"20\" href=\"#\" />\n        <LineLink title=\"xxx的电影\" extra=\"20\" href=\"#\" />\n      </div>\n      <TabMenu current=\"user\" />\n    </div>\n  );\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './BaseInfo.scss';\n\n\nconst BaseInfo = ({ onShowImage }) => {\n  return (\n    <div className=\"baseInfo\">\n      <div className=\"baseInfo__detail\">\n        <h3 className=\"baseInfo__name\">唐人街探案2</h3>\n        <div className=\"baseInfo__subTitle\">Detective Chinatown 2</div>\n        <div className=\"baseInfo__other\">喜剧 / 动作 / 剧情</div>\n        <div className=\"baseInfo__other\">中国大陆 | 130分钟</div>\n        <div className=\"baseInfo__other\">2018年2月大陆上映</div>\n      </div>\n      <div className=\"baseInfo__poster\" onClick={onShowImage} style={{ backgroundImage: 'url(/source/movie/asset4.jpeg)' }} />\n    </div>\n  );\n};\n\nBaseInfo.propTypes = {\n  onShowImage: PropTypes.func.isRequired,\n}\n\nexport default BaseInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Star.scss';\n\n/**\n * desc: 星星评分组件\n * props: value 评分 / 十分制 size 星星大小\n * */\n\nconst Star = ({ value, size = 15 }) => {\n  const bgSize = `${size}px`;\n\n  return (\n    <div className=\"star\" style={{ height: size, width: size * 5, backgroundSize: bgSize }}>\n      <div className=\"star__top\" style={{ width: `${value * 10}%`, backgroundSize: bgSize }} />\n    </div>\n  );\n};\n\nStar.propTypes = {\n  value: PropTypes.number.isRequired,\n  size: PropTypes.number\n}\n\nexport default Star;\n","import React from 'react';\nimport Star from '../../../components/Star';\nimport './ScoreSummary.scss';\n\nconst ScoreSummary = () => {\n  return (\n    <div className=\"scoreSummary\">\n      <div className=\"scoreSummary__top\">\n        <div className=\"summaryItem\">\n          <div className=\"summaryItem__value\">9.3 <Star value={9.3} /></div>\n          <div className=\"summaryItem__title\">观众评分12313人</div>\n        </div>\n        <div className=\"summaryItem\">\n          <div className=\"summaryItem__value\">80%</div>\n          <div className=\"summaryItem__title\">V淘推荐度</div>\n        </div>\n        <div className=\"summaryItem\">\n          <div className=\"summaryItem__value\">87723</div>\n          <div className=\"summaryItem__title\">想看人数</div>\n        </div>\n      </div>\n      <div className=\"summaryBtn\">\n        <button className=\"summaryBtn__item summaryBtn__item--want\"><i /> 想看</button>\n        <button className=\"summaryBtn__item summaryBtn__item--seen\"><i /> 看过</button>\n      </div>\n    </div>\n  );\n};\n\nexport default ScoreSummary;\n","import React, {Component} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './CollapsibleText.scss';\r\n\r\n\r\nclass CollapsibleText extends Component {\r\n  state = {\r\n    isCollapse: false,\r\n    isNeedCollapse: false\r\n  }\r\n\r\n\r\n  static defaultProps = {\r\n    height: 84\r\n  }\r\n\r\n  componentDidMount() {\r\n    const dom = ReactDOM.findDOMNode(this);\r\n    const value = this.props.height\r\n\r\n    if (dom.clientHeight > value) {\r\n      this.setState({\r\n        isCollapse: true,\r\n        isNeedCollapse: true\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  toggleStatus = () => {\r\n    if (this.state.isNeedCollapse) {\r\n      this.setState((prevState) => ({\r\n        isCollapse: !prevState.isCollapse\r\n      }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isCollapse } = this.state\r\n    const cls = isCollapse ? 'collapsibleText--collapse' : '';\r\n    const maxHeight = isCollapse ? this.props.height : 'none';\r\n    return (\r\n      <div className={`collapsibleText ${cls}`} style={{ maxHeight: maxHeight }} onClick={this.toggleStatus}>\r\n        { this.props.children }\r\n        { this.state.isCollapse && <div className=\"collapsibleText__label\">展开</div> }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCollapsibleText.propTypes = {\r\n  children: PropTypes.any,\r\n  height: PropTypes.number\r\n};\r\n\r\nexport default CollapsibleText;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Artist.scss';\n\n\nconst Artist = ({ data }) => {\n  return (\n    <div className=\"mArtist\">\n      <ul className=\"mArtist__list\">\n        {\n          data.map(item => (\n            <li className=\"\" key={item.name}>\n              <a href=\"./\" className=\"artistInfo\">\n                <div className=\"artistInfo__image\" style={{ backgroundImage: `url(${item.image})` }} />\n                <div>\n                  <dl className=\"artistInfo__name\">{item.name}</dl>\n                  <dd className=\"artistInfo__job\">{item.job}</dd>\n                </div>\n              </a>\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  );\n};\n\nArtist.propTypes = {\n  data: PropTypes.array.isRequired,\n};\n\nexport default Artist;\n","import React from 'react';\nimport Star from '../../../components/Star';\nimport './ScoreDistribute.scss';\n\nconst ScoreDistribute = props => {\n  return (\n    <div className=\"scoreDistribute\">\n      <div className=\"score\">\n        <div className=\"score__value\">9.3</div>\n        <div className=\"score__desc\">10000人评论</div>\n      </div>\n      <div className=\"distribute\">\n        <div>\n          <div className=\"distribute__item\">\n            <Star value={10} size={8} />\n            <div className=\"distribute__btm\">\n              <div className=\"distribute__top\"style={{ width: '90%' }} />\n            </div>\n          </div>\n          <div className=\"distribute__item\">\n            <Star value={8} size={8} />\n            <div className=\"distribute__btm\">\n              <div className=\"distribute__top\"style={{ width: '30%' }} />\n            </div>\n          </div>\n          <div className=\"distribute__item\">\n            <Star value={6} size={8} />\n            <div className=\"distribute__btm\">\n              <div className=\"distribute__top\"style={{ width: '20%' }} />\n            </div>\n          </div>\n          <div className=\"distribute__item\">\n            <Star value={4} size={8} />\n            <div className=\"distribute__btm\">\n              <div className=\"distribute__top\"style={{ width: '10%' }} />\n            </div>\n          </div>\n          <div className=\"distribute__item\">\n            <Star value={2} size={8} />\n            <div className=\"distribute__btm\">\n              <div className=\"distribute__top\"style={{ width: '10%' }} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nScoreDistribute.propTypes = {\n\n};\n\nexport default ScoreDistribute;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport \"./TagList.scss\";\n\nconst TagList = ({ data, current, onClick }) => {\n  const onClickTag = (value) => {\n    if (value !== current) {\n      onClick(value);\n    }\n  };\n\n  return (\n    <div className=\"tagList\">\n      {\n        data.map(tag => (\n          <span\n            key={tag.text}\n            className={`tagList__item ${current === tag.text && 'tagList__item--active'}`}\n            onClick={() => onClickTag(tag.text)}\n          >\n            {tag.text} {tag.count}\n          </span>\n        ))\n      }\n    </div>\n  );\n};\n\nTagList.propTypes = {\n  data: PropTypes.array.isRequired,\n  current: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default TagList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Star from '../../../components/Star';\nimport CollapsibleText from '../../../components/CollapsibleText';\nimport './CommentList.scss';\n\nconst CommentList = ({ data, onClickZan }) => {\n  return (\n    <ul className=\"commentList\">\n      {\n        data.map(comment => (\n          <li key={comment.id}>\n            <div className=\"commentItem\">\n              <div className=\"commentUser\">\n                <div className=\"commentUser__avatar\" style={{ backgroundImage: 'url(/source/default-avatar.jpg)' }} />\n                <div className=\"commentUser__detail\">\n                  <div className=\"commentUser__name\">{comment.name}</div>\n                  <div className=\"commentUser__score\"> <Star value={comment.score} /> <span className=\"commentUser__value\">{comment.score}</span></div>\n                </div>\n              </div>\n              <CollapsibleText>{comment.content}</CollapsibleText>\n              <div className=\"commentItem__detail\">\n                <div className=\"commentItem__time\">{comment.time}</div>\n                <div className={`commentItem__zan ${comment.isZan && 'commentItem__zan--active'}`}>\n                  <i onClick={() => onClickZan(comment.id)} /> {comment.zan}\n                </div>\n              </div>\n            </div>\n          </li>\n        ))\n      }\n    </ul>\n  );\n};\n\nCommentList.propTypes = {\n  data: PropTypes.array.isRequired,\n  onClickZan: PropTypes.func.isRequired,\n};\n\nexport default CommentList;\n","import React, {Component} from 'react';\nimport request from '../../../helpers/request';\nimport ScoreDistribute from '../components/ScoreDistribute';\nimport TagList from '../components/TagList';\nimport CommentList from '../components/CommentList';\n\nclass Comment extends Component {\n  state = {\n    tags: [],\n    comments: [],\n    current: '' // 当前选中的标签\n  }\n\n\n  componentDidMount() {\n    this.getData();\n  }\n\n\n  getData = async () => {\n    const { tags, list } = await request('/comment');\n\n    this.setState({\n      tags,\n      comments: list,\n      current: tags[0] ? tags[0].text : ''\n    });\n  }\n\n  changeTag = value => {\n    this.setState({\n      current: value\n    });\n  }\n\n  toggleZan = id => {\n    this.setState((prevState) => ({\n      comments: prevState.comments.map(comment => {\n        if (comment.id === id) {\n          return {\n            ...comment,\n            isZan: !comment.isZan,\n            zan: comment.isZan ? --comment.zan : ++comment.zan\n          };\n        }\n\n        return {...comment};\n      })\n    }));\n  }\n\n  render() {\n    const { tags, comments, current } = this.state;\n    const filterComments = comments.filter(comment => comment.tag === current);\n\n    return (\n      <div className=\"mComment\">\n        <ScoreDistribute />\n        <div style={{ marginTop: 16 }}>\n          <TagList data={tags} current={current} onClick={this.changeTag} />\n        </div>\n        <div style={{ marginTop: 16 }}>\n          <CommentList data={filterComments} onClickZan={this.toggleZan} />\n        </div>\n      </div>\n    );\n  }\n}\n\nComment.propTypes = {};\n\nexport default Comment;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Slider from 'react-slick';\nimport './ImageSlider.scss';\n\nclass ImageSlider extends Component {\n  state = {\n    index: 1\n  }\n\n  changeIndex = index => {\n    this.setState({\n      index: index + 1\n    });\n  }\n\n  render() {\n    const setting = {\n      className: 'imageSlider__content',\n      afterChange: this.changeIndex\n    };\n\n    return (\n      <div className=\"imageSlider\" onClick={this.props.onClose}>\n        <div className=\"imageSlider__index\">\n          {this.state.index} / 6\n        </div>\n        <Slider {...setting}>\n          <div className=\"imageSlider__item\">\n            <img className=\"imageSlider__img\" src=\"/source/image/asset1.jpeg\" alt=\"\"/>\n          </div>\n          <div className=\"imageSlider__item\">\n            <img className=\"imageSlider__img\" src=\"/source/image/asset2.jpeg\" alt=\"\"/>\n          </div>\n          <div className=\"imageSlider__item\">\n            <img className=\"imageSlider__img\" src=\"/source/image/asset3.jpeg\" alt=\"\"/>\n          </div>\n          <div className=\"imageSlider__item\">\n            <img className=\"imageSlider__img\" src=\"/source/image/asset4.jpeg\" alt=\"\"/>\n          </div>\n          <div className=\"imageSlider__item\">\n            <img className=\"imageSlider__img\" src=\"/source/image/asset5.jpeg\" alt=\"\"/>\n          </div>\n          <div className=\"imageSlider__item\">\n            <img className=\"imageSlider__img\" src=\"/source/image/asset6.jpeg\" alt=\"\"/>\n          </div>\n        </Slider>\n      </div>\n    );\n  }\n}\n\nImageSlider.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ImageSlider;\n","import React, {Component} from 'react';\nimport request from '../../helpers/request';\nimport BaseInfo from './components/BaseInfo';\nimport ScoreSummary from './components/ScoreSummary';\nimport CollapsibleText from '../../components/CollapsibleText';\nimport Artist from './components/Artist';\nimport Comment from './container/Comment';\nimport LineLink from '../../components/LineLink';\nimport ImageSlider from './container/ImageSlider';\nimport { Link } from 'react-router-dom';\nimport './Index.scss';\n\nclass Detail extends Component {\n  state = {\n    artist: [],\n    showImage: false\n  }\n\n  componentDidMount() {\n    this.getArtist();\n  }\n\n  getArtist = async () => {\n    const data = await request('/artist');\n\n    if (data && data.length) {\n      this.setState({\n        artist: data\n      });\n    }\n  }\n\n  toggleImage = () => {\n    this.setState({\n      showImage: !this.state.showImage\n    });\n  }\n\n  render() {\n    const { artist } = this.state;\n\n    return (\n      <div className=\"detail\">\n        <div className=\"detail__top\">\n          <div className=\"tOperator\">\n            <div className=\"tOperator__icon tOperator__icon--back\" onClick={() => { window.history.back(); }} />\n            <div className=\"tOperator__icon tOperator__icon--share\" />\n          </div>\n          <BaseInfo onShowImage={this.toggleImage} />\n        </div>\n        <div className=\"detail__content\">\n          <div className=\"detail__module\">\n            <ScoreSummary />\n          </div>\n          <div className=\"detail__module\">\n            <CollapsibleText height={84}>\n              <div className=\"detail__overview\">\n                唐仁（王宝强 饰）为巨额奖金欺骗秦风（刘昊然 饰）到纽约参加世界名侦探大赛，然而随着和世界各国侦探们啼笑皆非的较量，两人却发现了隐藏在这次挑战背后的更大秘展开,两人却发现了隐藏在这次挑战背后的更大秘展开\n              </div>\n            </CollapsibleText>\n          </div>\n          <div className=\"detail__module\">\n            <h3 className=\"detail__moduleTitle\">演职人员</h3>\n            <Artist data={artist} />\n          </div>\n          <div className=\"detail__module\">\n            <h3 className=\"detail__moduleTitle\">热门评论</h3>\n            <Comment />\n          </div>\n          <div className=\"detail__module\">\n            <h3 className=\"detail__moduleTitle\">影片资料</h3>\n            <div>\n              <LineLink href=\"xx\" title=\"幕后花絮\" />\n              <LineLink href=\"xx\" title=\"台词精选\" />\n              <LineLink href=\"xx\" title=\"出品发行\" />\n            </div>\n          </div>\n        </div>\n        <Link to=\"/seat\" className=\"detail__buyBtn\">选座购票</Link>\n        { this.state.showImage && <ImageSlider onClose={this.toggleImage} /> }\n      </div>\n    );\n  }\n}\n\nDetail.propTypes = {};\n\nexport default Detail;\n","const seats = (state = [], action) => {\n  switch (action.type) {\n    case 'ADD_SEAT':\n      return [\n        ...state,\n        action.seat\n      ];\n    case 'REMOVE_SEAT':\n      return state.filter(seat => seat.id !== action.id);\n    default:\n      return state;\n  }\n};\n\nexport default seats;\n","import React from 'react';\nimport './MovieInfo.scss';\n\nconst MovieInfo = () => {\n  return (\n    <div className=\"seatMovieInfo\">\n      <div className=\"seatMovieInfo__title\">唐人街探案2</div>\n      <div className=\"seatMovieInfo__info\">今天 05-01 14:30 (国语2D) </div>\n    </div>\n  );\n};\n\nexport default MovieInfo;\n","export const addSeat = seat => {\n  return {\n    type: 'ADD_SEAT',\n    seat\n  };\n};\n\nexport const removeSeat = id => {\n  return {\n    type: 'REMOVE_SEAT',\n    id\n  };\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { removeSeat } from '../actions';\nimport './SeatSelected.scss';\n\nconst SeatSelected = ({ data, onRemove }) => {\n  if (!data.length) {\n    return null;\n  }\n  return (\n    <div className=\"seatSelected\">\n      <ul className=\"seatSelected__list\">\n        {\n          data.map(seat => (\n            <li key={seat.id} className=\"seatSelected__item movieTicket\">\n              <div className=\"movieTicket__detail\">\n                <div className=\"movieTicket__pos\">{seat.rowIndex}排{seat.colIndex}座</div>\n                <div className=\"movieTicket__price\"> <i className=\"movieTicket__tag\">卡</i>33元</div>\n              </div>\n              <div className=\"movieTicket__close\" onClick={() => onRemove(seat.id)}  />\n            </li>\n          ))\n        }\n      </ul>\n      <div className=\"seatSelected__buy\">{33 * data.length}元 确认选座</div>\n    </div>\n  );\n};\n\nSeatSelected.propTypes = {\n  data: PropTypes.array.isRequired,\n  onRemove: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    data: state\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onRemove: id => {\n      dispatch(removeSeat(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SeatSelected);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { addSeat, removeSeat } from \"../actions\";\nimport { data } from '../mock/seat';\n\nconst SEAT_WIDTH = 50;\nconst SEAT_HEIGHT = 50;\nconst ratio = window.devicePixelRatio;\nconst DRAW_SEAT_WIDTH = SEAT_WIDTH * ratio;\nconst DRAW_SEAT_HEIGHT = SEAT_HEIGHT * ratio;\n// 根据最后一个位置来设置画布的宽高，前提是数据已有排序\nconst lastSeat = data[data.length - 1];\nconst CANVAS_WIDTH = lastSeat.colIndex * SEAT_WIDTH;\nconst CANVAS_HEIGHT = lastSeat.rowIndex * SEAT_HEIGHT;\nconst DRAW_CANVAS_WIDTH = CANVAS_WIDTH * ratio;\nconst DRAW_CANVAS_HEIGHT = CANVAS_HEIGHT * ratio;\n// let col = 1;\n// let row = 1;\n// const CANVAS_WITH = data.forEach(seat => {\n//   if (seat.rowIndex > row) {\n//     row = seat.rowIndex;\n//   }\n//   if (seat.colIndex > col) {\n//     col = seat.colIndex;\n//   }\n// })\n\nclass SeatSelector extends Component {\n  componentDidMount() {\n    // console.log(data.data);\n    this.ctx = this.refs.canvas.getContext('2d');\n    this.ctx.font = `${10 * ratio}px Arial`;\n    this.ctx.fillStyle = '#fff';\n    this.ctx.textAlign = 'center';\n    // 加载需要的图片资源\n    const emptyImage = new Image();\n    const selectImage = new Image();\n    const soldImage = new Image();\n    let count = 0;\n\n    const loadCallback = () => {\n      count++;\n      if (count === 3) {\n        this.emptyImage = emptyImage;\n        this.selectImage = selectImage;\n        this.soldImage = soldImage;\n        this.drawAllSeat();\n        this.drawSelectSeat(); // 画已选择的座位\n      }\n    };\n\n    emptyImage.onload = loadCallback;\n    selectImage.onload = loadCallback;\n    soldImage.onload = loadCallback;\n\n    emptyImage.src = './source/seat-empty.png';\n    selectImage.src = './source/seat-selected.png';\n    soldImage.src = './source/seat-sold.png';\n  }\n\n\n  componentDidUpdate() {\n    this.ctx.clearRect(0, 0, DRAW_CANVAS_WIDTH, DRAW_CANVAS_HEIGHT);\n    this.drawAllSeat(); // 画初始座位\n    this.drawSelectSeat(); // 画已选择的座位\n  }\n\n\n  drawAllSeat = () => {\n    const seatData = data;\n\n    for (let i= 0; i < seatData.length; i++) {\n      const { isSold, xPos, yPos } = seatData[i];\n      const offsetLeft = (xPos - 1) * DRAW_SEAT_WIDTH;\n      const offsetTop = (yPos - 1) * DRAW_SEAT_HEIGHT;\n      if (isSold) {\n        // 绘制已售样式\n        this.ctx.drawImage(this.soldImage, offsetLeft, offsetTop, DRAW_SEAT_WIDTH, DRAW_SEAT_HEIGHT);\n      } else {\n        // 绘制空座样式\n        this.ctx.drawImage(this.emptyImage, offsetLeft, offsetTop, DRAW_SEAT_WIDTH, DRAW_SEAT_HEIGHT);\n      }\n    }\n  }\n\n  drawSelectSeat = () => {\n    const { selectSeat } = this.props;\n\n    for (let i = 0; i < selectSeat.length; i++) {\n      const { xPos, yPos, rowIndex, colIndex } = selectSeat[i];\n      const offsetLeft = (xPos - 1) * DRAW_SEAT_WIDTH;\n      const offsetTop = (yPos - 1) * DRAW_SEAT_HEIGHT;\n      this.ctx.drawImage(this.selectImage, offsetLeft, offsetTop, DRAW_SEAT_WIDTH, DRAW_SEAT_HEIGHT);\n      this.ctx.fillText(`${rowIndex}排`, offsetLeft + DRAW_SEAT_WIDTH / 2, offsetTop + DRAW_SEAT_HEIGHT / 2.5);\n      this.ctx.fillText(`${colIndex}座`, offsetLeft + DRAW_SEAT_WIDTH / 2, offsetTop + DRAW_SEAT_HEIGHT * 2 / 3);\n    }\n  }\n\n  clickSeat = (e) => {\n    const offset = this.refs.canvas.getBoundingClientRect();\n    const clickX = e.pageX - offset.left;\n    const clickY = e.pageY - offset.top;\n    const xPox = Math.ceil(clickX / SEAT_WIDTH);\n    const yPox = Math.ceil(clickY / SEAT_HEIGHT);\n\n    const seat = data.find(seat => seat.xPos === xPox && seat.yPos === yPox);\n\n    // 如果未找到或者当前座位已售，则不响应\n    if(!seat || seat.isSold) {\n      return;\n    }\n\n    const seatIndex = this.props.selectSeat.findIndex(item => item.id === seat.id);\n\n    if (seatIndex > -1) {\n      // 如果已经选择了，需要取消选择，反之选择座位\n      this.props.onRemove(seat.id);\n    } else {\n      if (this.props.selectSeat.length >= 4) {\n        // 如果已经选择了四个座位，则不能再选\n        alert('不能超过四个座位');\n      } else {\n        this.props.onAdd(seat);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <canvas onClick={this.clickSeat} style={{ width: CANVAS_WIDTH, height: CANVAS_HEIGHT }} ref=\"canvas\" width={DRAW_CANVAS_WIDTH} height={DRAW_CANVAS_HEIGHT} />\n    );\n  }\n}\n\nSeatSelector.propTypes = {\n  selectSeat: PropTypes.array.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onAdd: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => {\n  return {\n    selectSeat: state\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAdd: seat => {\n      dispatch(addSeat(seat));\n    },\n    onRemove: id => {\n      dispatch(removeSeat(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SeatSelector);\n","import React, {Component} from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport seatSelect from './reducers';\nimport MovieInfo from './components/MovieInfo';\nimport SeatSelected from './components/SeatSelected';\nimport SeatSelector from './container/SeatSelector';\nimport './Index.scss';\n\nlet store = createStore(seatSelect);\n\nclass Seat extends Component {\n  // state = {\n  //   selectSeat: []\n  // }\n\n  // addSeat = (seat) => {\n  //   this.setState(prevState => ({\n  //     selectSeat: [...prevState.selectSeat, seat]\n  //   }));\n  // }\n  //\n  // removeSeat = (id) => {\n  //   this.setState({\n  //     selectSeat: this.state.selectSeat.filter(seat => seat.id !== id)\n  //   });\n  // }\n\n  render() {\n    // const { selectSeat } = this.state;\n\n    return (\n      <Provider store={store}>\n        <div className=\"seat\">\n          <div className=\"tOperator\">\n            <i className=\"tOperator__icon tOperator__icon--blackBack\" onClick={() => { window.history.back(); }} />\n            万达影院\n            <i className=\"tOperator__icon tOperator__icon--blackShare\" />\n          </div>\n          <MovieInfo />\n          <div className=\"seat__main\">\n            <div className=\"seat__tip\" />\n            <div className=\"seat__graph\">\n              <div className=\"seat__screen\">B13屏幕</div>\n              <div className=\"seat__map\"><SeatSelector /></div>\n            </div>\n          </div>\n          <SeatSelected />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nSeat.propTypes = {};\n\nexport default Seat;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './routes/home/Index';\nimport User from './routes/user/Index';\nimport Detail from './routes/detail/Index';\nimport Seat from './routes/seat/Index';\nimport './App.scss';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/user\" exact component={User} />\n          <Route path=\"/detail\" exact component={Detail} />\n          <Route path=\"/seat\" exact component={Seat} />\n        </Switch>\n      </Router>\n    );\n  }\n}\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './normalize.css';\nimport './index.css';\nimport './common.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}